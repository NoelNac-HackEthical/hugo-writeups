[build]
  publish = "public"
  command = "hugo --gc --minify"

[build.environment]
  HUGO_VERSION = "0.148.2"
  HUGO_ENV = "production"
  HUGO_ENABLEGITINFO = "true"

# --- Production : JAMAIS de drafts ---
[context.production]
  command = "hugo --gc --minify -b https://writeups.hackethical.be/"

# --- Deploy Previews (PR) : AVEC drafts (et optionnellement contenus futurs) ---
[context.deploy-preview]
  command = "hugo --gc -D -b $DEPLOY_PRIME_URL"
  # Si tu utilises publishDate dans le futur, remplace par :
  # command = "hugo --gc --minify -D -F -b $DEPLOY_PRIME_URL"

# --- Branch deploys : idem que les previews (si tu en as besoin) ---
[context.branch-deploy]
  command = "hugo --gc -D -b $DEPLOY_PRIME_URL"
  # ou avec futurs :
  # command = "hugo --gc --minify -D -F -b $DEPLOY_PRIME_URL"

